# Comparing `tmp/funboost-20.6-py3-none-any.whl.zip` & `tmp/funboost-20.7-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1884051 bytes, number of entries: 218
+Zip file size: 1884693 bytes, number of entries: 218
 -rw-rw-rw-  2.0 fat    21081 b- defN 23-May-05 03:43 funboost/__init__.py
 -rw-rw-rw-  2.0 fat     5910 b- defN 23-Apr-28 02:46 funboost/constant.py
 -rw-rw-rw-  2.0 fat     7100 b- defN 23-Apr-27 08:42 funboost/funboost_config_deafult.py
 -rw-rw-rw-  2.0 fat    14104 b- defN 23-Apr-14 00:56 funboost/helpers.py
 -rw-rw-rw-  2.0 fat     9149 b- defN 23-Apr-13 09:47 funboost/set_frame_config.py
 -rw-rw-rw-  2.0 fat     3930 b- defN 22-Sep-17 06:12 funboost/beggar_version_implementation/beggar_redis_consumer.py
 -rw-rw-rw-  2.0 fat      759 b- defN 22-Dec-19 11:45 funboost/concurrent_pool/__init__.py
@@ -18,16 +18,16 @@
 -rw-rw-rw-  2.0 fat     9317 b- defN 21-Dec-27 01:40 funboost/concurrent_pool/custom_threadpool_executor000.py
 -rw-rw-rw-  2.0 fat      373 b- defN 21-Dec-27 01:40 funboost/concurrent_pool/single_thread_executor.py
 -rw-rw-rw-  2.0 fat        0 b- defN 23-Feb-24 11:39 funboost/concurrent_pool/backup/__init__.py
 -rw-rw-rw-  2.0 fat     9548 b- defN 23-Mar-23 05:32 funboost/concurrent_pool/backup/async_pool_executor0223.py
 -rw-rw-rw-  2.0 fat     9568 b- defN 23-Mar-23 05:32 funboost/concurrent_pool/backup/async_pool_executor_back.py
 -rw-rw-rw-  2.0 fat     5728 b- defN 23-Mar-23 05:32 funboost/concurrent_pool/backup/async_pool_executor_janus.py
 -rw-rw-rw-  2.0 fat      126 b- defN 22-Sep-17 06:12 funboost/consumers/__init__.py
--rw-rw-rw-  2.0 fat    94018 b- defN 23-Apr-26 10:59 funboost/consumers/base_consumer.py
--rw-rw-rw-  2.0 fat    11274 b- defN 23-May-05 06:56 funboost/consumers/celery_consumer.py
+-rw-rw-rw-  2.0 fat    94087 b- defN 23-May-10 06:10 funboost/consumers/base_consumer.py
+-rw-rw-rw-  2.0 fat    11428 b- defN 23-May-06 01:38 funboost/consumers/celery_consumer.py
 -rw-rw-rw-  2.0 fat     4574 b- defN 23-May-04 06:09 funboost/consumers/celery_consumer000.py
 -rw-rw-rw-  2.0 fat     5877 b- defN 23-Mar-29 02:19 funboost/consumers/confirm_mixin.py
 -rw-rw-rw-  2.0 fat     2067 b- defN 23-May-04 12:12 funboost/consumers/http_consumer.py
 -rw-rw-rw-  2.0 fat     4463 b- defN 22-Sep-17 06:12 funboost/consumers/http_consumer000.py
 -rw-rw-rw-  2.0 fat     1080 b- defN 23-May-04 12:12 funboost/consumers/httpsqs_consumer.py
 -rw-rw-rw-  2.0 fat     4217 b- defN 23-May-04 12:12 funboost/consumers/kafka_consumer.py
 -rw-rw-rw-  2.0 fat     6556 b- defN 23-May-04 12:12 funboost/consumers/kafka_consumer_manually_commit.py
@@ -60,15 +60,15 @@
 -rw-rw-rw-  2.0 fat     4157 b- defN 23-May-04 12:12 funboost/consumers/zeromq_consumer.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Dec-05 10:31 funboost/contrib/__init__.py
 -rw-rw-rw-  2.0 fat     4703 b- defN 23-Mar-29 03:02 funboost/contrib/queue2queue.py
 -rw-rw-rw-  2.0 fat     1817 b- defN 23-Mar-22 02:09 funboost/contrib/redis_consume_latest_msg_broker.py
 -rw-rw-rw-  2.0 fat      178 b- defN 22-Sep-17 06:12 funboost/factories/__init__.py
 -rw-rw-rw-  2.0 fat     8286 b- defN 23-May-05 06:22 funboost/factories/broker_kind__publsiher_consumer_type_map.py
 -rw-rw-rw-  2.0 fat     1032 b- defN 23-May-05 03:52 funboost/factories/consumer_factory.py
--rw-rw-rw-  2.0 fat     2115 b- defN 23-May-05 06:20 funboost/factories/publisher_factotry.py
+-rw-rw-rw-  2.0 fat     2367 b- defN 23-May-06 01:20 funboost/factories/publisher_factotry.py
 -rw-rw-rw-  2.0 fat     4841 b- defN 22-Sep-17 06:12 funboost/function_result_web/app.py
 -rw-rw-rw-  2.0 fat     7345 b- defN 23-Mar-08 10:19 funboost/function_result_web/functions.py
 -rw-rw-rw-  2.0 fat     4045 b- defN 22-Feb-21 07:34 funboost/function_result_web/__pycache__/app.cpython-37.pyc
 -rw-rw-rw-  2.0 fat     3921 b- defN 22-Mar-30 13:56 funboost/function_result_web/__pycache__/functions.cpython-37.pyc
 -rw-rw-rw-  2.0 fat     7674 b- defN 21-Dec-27 01:40 funboost/function_result_web/static/assets/css/custom.css
 -rw-rw-rw-  2.0 fat    42839 b- defN 21-Dec-27 01:40 funboost/function_result_web/static/assets/css/jquery.mCustomScrollbar.min.css
 -rw-rw-rw-  2.0 fat    23610 b- defN 21-Dec-27 01:40 funboost/function_result_web/static/assets/img/user.jpg
@@ -100,29 +100,29 @@
 -rw-rw-rw-  2.0 fat     1302 b- defN 22-Sep-17 06:12 funboost/publishers/nsq_publisher.py
 -rw-rw-rw-  2.0 fat     1095 b- defN 22-Sep-17 06:12 funboost/publishers/peewee_publisher.py
 -rw-rw-rw-  2.0 fat     2540 b- defN 22-Sep-17 06:12 funboost/publishers/persist_queue_publisher.py
 -rw-rw-rw-  2.0 fat     1238 b- defN 23-Apr-13 03:56 funboost/publishers/pulsar_publisher.py
 -rw-rw-rw-  2.0 fat     2725 b- defN 23-Apr-17 07:35 funboost/publishers/rabbitmq_amqpstorm_publisher.py
 -rw-rw-rw-  2.0 fat     2343 b- defN 22-Sep-17 06:12 funboost/publishers/rabbitmq_pika_publisher.py
 -rw-rw-rw-  2.0 fat     1953 b- defN 22-Sep-17 06:12 funboost/publishers/rabbitmq_rabbitpy_publisher.py
--rw-rw-rw-  2.0 fat     3929 b- defN 23-Apr-21 02:47 funboost/publishers/redis_publisher.py
+-rw-rw-rw-  2.0 fat     3982 b- defN 23-May-10 03:22 funboost/publishers/redis_publisher.py
 -rw-rw-rw-  2.0 fat      278 b- defN 22-Sep-17 06:12 funboost/publishers/redis_publisher_lpush.py
 -rw-rw-rw-  2.0 fat      872 b- defN 23-Apr-28 03:12 funboost/publishers/redis_publisher_simple.py
 -rw-rw-rw-  2.0 fat      721 b- defN 22-Sep-17 06:12 funboost/publishers/redis_pubsub_publisher.py
 -rw-rw-rw-  2.0 fat     2037 b- defN 21-Dec-27 01:40 funboost/publishers/redis_stream_publisher.py
 -rw-rw-rw-  2.0 fat     2343 b- defN 23-Mar-23 05:32 funboost/publishers/rocketmq_publisher.py
 -rw-rw-rw-  2.0 fat     1215 b- defN 22-Sep-17 06:12 funboost/publishers/sqla_queue_publisher.py
 -rw-rw-rw-  2.0 fat     1335 b- defN 23-May-04 11:53 funboost/publishers/tcp_publisher.py
 -rw-rw-rw-  2.0 fat     1380 b- defN 22-Sep-17 08:52 funboost/publishers/txt_file_publisher.py
 -rw-rw-rw-  2.0 fat     1194 b- defN 23-May-04 11:53 funboost/publishers/udp_publisher.py
 -rw-rw-rw-  2.0 fat     1002 b- defN 21-Dec-27 01:40 funboost/publishers/zeromq_publisher.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Jul-22 02:44 funboost/queues/__init__.py
 -rw-rw-rw-  2.0 fat     4982 b- defN 22-Aug-08 05:06 funboost/queues/peewee_queue.py
 -rw-rw-rw-  2.0 fat    11024 b- defN 23-May-05 02:38 funboost/queues/sqla_queue.py
--rw-rw-rw-  2.0 fat     4098 b- defN 23-Mar-27 02:03 funboost/timing_job/__init__.py
+-rw-rw-rw-  2.0 fat     5323 b- defN 23-May-10 04:29 funboost/timing_job/__init__.py
 -rw-rw-rw-  2.0 fat      418 b- defN 23-Apr-06 06:09 funboost/timing_job/apscheduler_use_mysql_store.py
 -rw-rw-rw-  2.0 fat      868 b- defN 23-Feb-03 06:47 funboost/timing_job/apscheduler_use_redis_store.py
 -rw-rw-rw-  2.0 fat      996 b- defN 22-Aug-19 01:51 funboost/timing_job/push_fun_for_apscheduler_use_db.py
 -rw-rw-rw-  2.0 fat     1951 b- defN 23-Mar-09 07:27 funboost/utils/__init__.py
 -rw-rw-rw-  2.0 fat     3124 b- defN 21-Dec-27 01:40 funboost/utils/apscheduler_monkey.py
 -rw-rw-rw-  2.0 fat       96 b- defN 23-Jan-29 07:41 funboost/utils/block_exit.py
 -rw-rw-rw-  2.0 fat     9972 b- defN 22-Apr-01 02:17 funboost/utils/bulk_operation.py
@@ -208,13 +208,13 @@
 -rw-rw-rw-  2.0 fat      303 b- defN 23-Mar-13 01:28 funboost/utils/dependency_packages_in_pythonpath/func_timeout/__pycache__/py3_raise.cpython-37.pyc
 -rw-rw-rw-  2.0 fat      311 b- defN 23-Mar-21 10:43 funboost/utils/dependency_packages_in_pythonpath/func_timeout/__pycache__/py3_raise.cpython-39.pyc
 -rw-rw-rw-  2.0 fat      909 b- defN 21-Dec-27 01:40 funboost/utils/pysnooper_ydf/__init__.py
 -rw-rw-rw-  2.0 fat     2243 b- defN 21-Dec-27 01:40 funboost/utils/pysnooper_ydf/pycompat.py
 -rw-rw-rw-  2.0 fat    19131 b- defN 23-Mar-23 05:34 funboost/utils/pysnooper_ydf/tracer.py
 -rw-rw-rw-  2.0 fat     2753 b- defN 23-Mar-23 05:34 funboost/utils/pysnooper_ydf/utils.py
 -rw-rw-rw-  2.0 fat     3693 b- defN 23-Mar-23 05:34 funboost/utils/pysnooper_ydf/variables.py
--rw-rw-rw-  2.0 fat    11558 b- defN 23-May-05 11:35 funboost-20.6.dist-info/LICENSE
--rw-rw-rw-  2.0 fat    26267 b- defN 23-May-05 11:35 funboost-20.6.dist-info/METADATA
--rw-rw-rw-  2.0 fat       97 b- defN 23-May-05 11:35 funboost-20.6.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        9 b- defN 23-May-05 11:34 funboost-20.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat    24059 b- defN 23-May-05 11:35 funboost-20.6.dist-info/RECORD
-218 files, 3238201 bytes uncompressed, 1844039 bytes compressed:  43.1%
+-rw-rw-rw-  2.0 fat    11558 b- defN 23-May-10 06:12 funboost-20.7.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat    26332 b- defN 23-May-10 06:12 funboost-20.7.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       97 b- defN 23-May-10 06:12 funboost-20.7.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        9 b- defN 23-May-10 06:12 funboost-20.7.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat    24059 b- defN 23-May-10 06:12 funboost-20.7.dist-info/RECORD
+218 files, 3240019 bytes uncompressed, 1844681 bytes compressed:  43.1%
```

## zipnote {}

```diff
@@ -633,23 +633,23 @@
 
 Filename: funboost/utils/pysnooper_ydf/utils.py
 Comment: 
 
 Filename: funboost/utils/pysnooper_ydf/variables.py
 Comment: 
 
-Filename: funboost-20.6.dist-info/LICENSE
+Filename: funboost-20.7.dist-info/LICENSE
 Comment: 
 
-Filename: funboost-20.6.dist-info/METADATA
+Filename: funboost-20.7.dist-info/METADATA
 Comment: 
 
-Filename: funboost-20.6.dist-info/WHEEL
+Filename: funboost-20.7.dist-info/WHEEL
 Comment: 
 
-Filename: funboost-20.6.dist-info/top_level.txt
+Filename: funboost-20.7.dist-info/top_level.txt
 Comment: 
 
-Filename: funboost-20.6.dist-info/RECORD
+Filename: funboost-20.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## funboost/consumers/base_consumer.py

```diff
@@ -691,15 +691,16 @@
         if self._schedule_tasks_on_main_thread:
             self.keep_circulating(1)(self._shedual_task)()
         else:
             self._concurrent_mode_dispatcher.schedulal_task_with_no_block()
         setattr(funboost_config_deafult, 'has_start_a_consumer_flag', 1)
 
     def _start_delay_task_scheduler(self):
-        self._delay_task_scheduler = BackgroundScheduler(timezone=funboost_config_deafult.TIMEZONE, daemon=False)
+        from funboost.timing_job import FsdfBackgroundScheduler
+        self._delay_task_scheduler = FsdfBackgroundScheduler(timezone=funboost_config_deafult.TIMEZONE, daemon=False)
         self._delay_task_scheduler.add_executor(ApschedulerThreadPoolExecutor(2))  # 只是运行submit任务到并发池，不需要很多线程。
         self._delay_task_scheduler.add_listener(self._apscheduler_job_miss, EVENT_JOB_MISSED)
         self._delay_task_scheduler.start()
         self.logger.warning('启动延时任务sheduler')
 
     @abc.abstractmethod
     def _shedual_task(self):
```

## funboost/consumers/celery_consumer.py

```diff
@@ -236,24 +236,26 @@
     @staticmethod
     def start_flower(port=5555):
         def _f():
             python_executable = sys.executable
             # print(python_executable)
 
             # cmd = f'''{python_executable} -m celery -A funboost.publishers.celery_publisher --broker={funboost_config_deafult.CELERY_BROKER_URL}  --result-backend={funboost_config_deafult.CELERY_RESULT_BACKEND}   flower --address=0.0.0.0 --port={port}  --auto_refresh=True '''
-            cmd = f'''{python_executable} -m celery  --broker={funboost_config_deafult.CELERY_BROKER_URL}  --result-backend={funboost_config_deafult.CELERY_RESULT_BACKEND}   flower --address=0.0.0.0 --port={port}  --auto_refresh=1 '''
+            cmd = f'''{python_executable} -m celery  --broker={funboost_config_deafult.CELERY_BROKER_URL}  --result-backend={funboost_config_deafult.CELERY_RESULT_BACKEND}   flower --address=0.0.0.0 --port={port}  --auto_refresh=True '''
 
             print(f'启动flower命令:   {cmd}')
             os.system(cmd)
 
         threading.Thread(target=_f).start()
 
     @classmethod
     def realy_start_celery_worker(cls, worker_name=None):
-        queue_names_str = ','.join(cls.to_be_start_work_celery_queue_name_list)
+        if len(cls.to_be_start_work_celery_queue_name_list) == 0:
+            raise Exception('celery worker 没有需要运行的queue')
+        queue_names_str = ','.join(list(set(cls.to_be_start_work_celery_queue_name_list)))
         # '--concurrency=200',
         # '--autoscale=5,500' threads 并发模式不支持自动扩大缩小并发数量,
         worker_name = worker_name or f'pid_{os.getpid()}'
         pool_name = 'threads'
         if cls.concurrent_mode == ConcurrentModeEnum.GEVENT:
             pool_name = 'gevent'
         if cls.concurrent_mode == ConcurrentModeEnum.EVENTLET:
```

## funboost/factories/publisher_factotry.py

```diff
@@ -28,11 +28,13 @@
            例如kafka支持消费者组，rabbitmq也支持各种独特概念例如各种ack机制 复杂路由机制，每一种消息队列都有独特的配置参数意义，可以通过这里传递。
 
     :return:
     """
 
     all_kwargs = copy.deepcopy(locals())
     all_kwargs.pop('broker_kind')
-    from funboost.factories.broker_kind__publsiher_consumer_type_map import broker_kind__publsiher_consumer_type_map
+    from funboost.factories.broker_kind__publsiher_consumer_type_map import broker_kind__publsiher_consumer_type_map, BrokerRegister
+    if broker_kind in BrokerRegister().broker_kind__regist_fun_map:
+        BrokerRegister().regist_to_funboost(broker_kind)  # 动态注册中间件到框架是为了延迟导入，用户没安装不需要的第三方包不报错。
     if broker_kind not in broker_kind__publsiher_consumer_type_map:
         raise ValueError(f'设置的中间件种类数字不正确,你设置的值是 {broker_kind} ')
     return broker_kind__publsiher_consumer_type_map[broker_kind][0](**all_kwargs)
```

## funboost/publishers/redis_publisher.py

```diff
@@ -38,15 +38,15 @@
         with self._lock_for_bulk_push:
             self.__bulk_push_and_init()
 
     def concrete_realization_of_publish(self, msg):
         # print(getattr(frame_config,'has_start_a_consumer_flag',0))
         # 这里的 has_start_a_consumer_flag 是一个标志，借用此模块设置的一个标识变量而已，框架运行时候自动设定的，不要把这个变量写到模块里面。
         # if getattr(funboost_config_deafult, 'has_start_a_consumer_flag', 0) == 0:  # 加快速度推送，否则每秒只能推送4000次。如果是独立脚本推送，使用批量推送，如果是消费者中发布任务，为了保持原子性，用原来的单个推送。
-        if self.broker_exclusive_config['redis_bulk_push'] == 1:
+        if self.broker_exclusive_config.get('redis_bulk_push',0) == 1:   # RedisConsumer传了,  RedisAckAble  没传
             # self._temp_msg_queue.put(msg)
             with self._lock_for_bulk_push:
                 self._temp_msg_list.append(msg)
                 if len(self._temp_msg_list) >= 1000:
                     # print(len(self._temp_msg_list))
                     self.__bulk_push_and_init()
         else:
```

## funboost/timing_job/__init__.py

```diff
@@ -9,14 +9,15 @@
 import time
 from typing import Union
 import threading
 
 from apscheduler.schedulers.background import BackgroundScheduler
 from apscheduler.jobstores.redis import RedisJobStore
 # noinspection PyProtectedMember
+from apscheduler.schedulers.base import STATE_STOPPED, STATE_RUNNING
 from apscheduler.util import undefined
 
 from funboost import funboost_config_deafult
 
 from funboost.consumers.base_consumer import AbstractConsumer
 
 
@@ -60,14 +61,39 @@
                 time.sleep(100)
         if block_exit:
             atexit.register(_when_exit)
         super(FsdfBackgroundScheduler, self).start(paused=paused, )
         # _block_exit()   # python3.9 判断守护线程结束必须主线程在运行，否则结尾
 
 
+    def _main_loop00000(self):
+        """
+        原来的代码是这，动态添加任务不友好。
+        :return:
+        """
+        wait_seconds = threading.TIMEOUT_MAX
+        while self.state != STATE_STOPPED:
+            print(6666,self._event.is_set(),wait_seconds)
+            self._event.wait(wait_seconds)
+            print(7777, self._event.is_set(),wait_seconds)
+            self._event.clear()
+            wait_seconds = self._process_jobs()
+
+
+    def _main_loop(self):
+        """原来的_main_loop 删除所有任务后wait_seconds 会变成None，无限等待。
+        或者下一个需要运行的任务的wait_seconds是3600秒后，此时新加了一个动态任务，最大等待1秒就能扫描新动态添加的任务了，而不需要3600秒后"""
+        wait_seconds = None
+        while self.state == STATE_RUNNING:
+            if wait_seconds is None:
+                wait_seconds = 1
+            time.sleep(min(wait_seconds,1))  # 这个要取最小值，不然例如定时间隔0.1秒运行，不取最小值，不会每隔0.1秒运行。
+            wait_seconds = self._process_jobs()
+
+
 fsdf_background_scheduler = FsdfBackgroundScheduler(timezone=funboost_config_deafult.TIMEZONE, daemon=False, )
 funboost_aps_scheduler = fsdf_background_scheduler  # 定时配置基于内存的，不可以跨机器远程动态添加/修改/删除定时任务配置
 
 # fsdf_background_scheduler = FsdfBackgroundScheduler()
 
 
 if __name__ == '__main__':
```

## Comparing `funboost-20.6.dist-info/LICENSE` & `funboost-20.7.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `funboost-20.6.dist-info/METADATA` & `funboost-20.7.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: funboost
-Version: 20.6
+Version: 20.7
 Summary: pip install funboost，python全功能分布式函数调度框架,。支持python所有类型的并发模式和一切知名消息队列中间件，python函数加速器，框架包罗万象，一统编程思维，兼容50% python业务场景，适用范围广。只需要一行代码即可分布式执行python一切函数，99%用过funboost的pythoner 感受是 方便 快速 强大，相见恨晚 
 Home-page: https://github.com/ydf0509/funboost
 Author: bfzs
 Author-email: ydf0509@sohu.com
 Maintainer: ydf
 Maintainer-email: ydf0509@sohu.com
 License: BSD License
@@ -23,16 +23,16 @@
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Topic :: Software Development :: Libraries
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: eventlet (==0.33.3)
 Requires-Dist: gevent (==22.10.2)
-Requires-Dist: pymongo (==4.0.2)
-Requires-Dist: AMQPStorm (==2.7.1)
+Requires-Dist: pymongo (==4.3.3)
+Requires-Dist: AMQPStorm (==2.10.6)
 Requires-Dist: rabbitpy (==2.0.1)
 Requires-Dist: decorator (==4.4.0)
 Requires-Dist: Flask
 Requires-Dist: flask-bootstrap
 Requires-Dist: flask-wtf
 Requires-Dist: wtforms
 Requires-Dist: flask-login
@@ -40,15 +40,15 @@
 Requires-Dist: persist-queue (>=0.4.2)
 Requires-Dist: elasticsearch
 Requires-Dist: kafka-python (==2.0.2)
 Requires-Dist: requests
 Requires-Dist: gnsq (==1.0.1)
 Requires-Dist: psutil
 Requires-Dist: peewee (==3.15.1)
-Requires-Dist: apscheduler (==3.7.0)
+Requires-Dist: apscheduler (==3.10.1)
 Requires-Dist: pikav0
 Requires-Dist: pikav1
 Requires-Dist: redis2
 Requires-Dist: redis3
 Requires-Dist: redis
 Requires-Dist: nb-log (>=8.5)
 Requires-Dist: rocketmq
@@ -61,23 +61,23 @@
 Requires-Dist: nb-filelock
 Requires-Dist: aiohttp (==3.8.3)
 Requires-Dist: pysnooper
 Requires-Dist: deprecated
 Requires-Dist: cryptography
 Requires-Dist: auto-run-on-remote
 Requires-Dist: frozenlist
-Provides-Extra: others
-Requires-Dist: confluent-kafka (==1.7.0) ; extra == 'others'
-Requires-Dist: kombu ; extra == 'others'
-Requires-Dist: celery ; extra == 'others'
-Requires-Dist: flower ; extra == 'others'
-Requires-Dist: nameko (==2.14.1) ; extra == 'others'
-Requires-Dist: sqlalchemy (==1.3.10) ; extra == 'others'
-Requires-Dist: sqlalchemy-utils (==0.36.1) ; extra == 'others'
-Requires-Dist: pulsar-client (==3.1.0) ; (python_version >= "3.6") and extra == 'others'
+Provides-Extra: extra_brokers
+Requires-Dist: confluent-kafka (==1.7.0) ; extra == 'extra_brokers'
+Requires-Dist: kombu ; extra == 'extra_brokers'
+Requires-Dist: celery ; extra == 'extra_brokers'
+Requires-Dist: flower ; extra == 'extra_brokers'
+Requires-Dist: nameko (==2.14.1) ; extra == 'extra_brokers'
+Requires-Dist: sqlalchemy (==1.3.10) ; extra == 'extra_brokers'
+Requires-Dist: sqlalchemy-utils (==0.36.1) ; extra == 'extra_brokers'
+Requires-Dist: pulsar-client (==3.1.0) ; (python_version >= "3.7") and extra == 'extra_brokers'
 
 
 # 1.分布式函数调度框架简介
 
 <pre style="color: greenyellow;background-color: #0c1119; font-size: medium;">
 pip install funboost ,python全功能分布式函数调度框架,。 支持python所有类型的并发模式和全球一切知名消息队列中间件，
 同时funboost支持celery整个框架作为核心来发布和消费消息，使用funboost的极简api方式来自动化配置和操作celery,
```

## Comparing `funboost-20.6.dist-info/RECORD` & `funboost-20.7.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -17,16 +17,16 @@
 funboost/concurrent_pool/custom_threadpool_executor000.py,sha256=jJLXy3h-bELap6nZA6yLtdozzTWcvCtZ7IY6MTqLEAM,9317
 funboost/concurrent_pool/single_thread_executor.py,sha256=NDWOegh8Nxpb-Bp-lUlj-DONWvepSmA9qepL1yNgdQI,373
 funboost/concurrent_pool/backup/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 funboost/concurrent_pool/backup/async_pool_executor0223.py,sha256=iTxxJFk2lu1P9ZAIkBip3euq3oEQ4_qTODy3xUaOecY,9548
 funboost/concurrent_pool/backup/async_pool_executor_back.py,sha256=vIgUUyF4Zb0jIRPWgNPqyO09YEkQP32kkpGBldqm4qA,9568
 funboost/concurrent_pool/backup/async_pool_executor_janus.py,sha256=OHMWJ9l3EYTpPpcrPrGGKd4K0tmQ2PN8HiX0Dta0EOo,5728
 funboost/consumers/__init__.py,sha256=ZXY_6Kut1VYNQiF5aWEgIWobsW1ht9YUP0TdRZRWFqI,126
-funboost/consumers/base_consumer.py,sha256=QBm7yYPmKlcSra-HHo3oBUjJvwv35eFhB3vchP6SCTc,94018
-funboost/consumers/celery_consumer.py,sha256=bO5oVYDzo9DubjSa0tEsVMcKviOwF89KncMM2Mg6KCI,11274
+funboost/consumers/base_consumer.py,sha256=hl5cLNGE4JhRN5MI633pFxmfeeMomC5vzY7SmLxPI_0,94087
+funboost/consumers/celery_consumer.py,sha256=JNTwodWCYwio5KGv3DBPKb4a77qQaJwcXWdUgHESgPw,11428
 funboost/consumers/celery_consumer000.py,sha256=8SF8ppHIMH-BIAHO0NyJYnSQxe_PcT6hv05e7DySG54,4574
 funboost/consumers/confirm_mixin.py,sha256=H0w07PceU2gGf6X1EXvAB5oD7IavzGv96bQTxm-58sE,5877
 funboost/consumers/http_consumer.py,sha256=zkEdYTz4xnRhLJq4JftCTehAb5oTjvnVaMjBNEP7Sfk,2067
 funboost/consumers/http_consumer000.py,sha256=NXOSiN1qpLAJfJkuF6SjFpWQ28YxMDULzWCBTNMwYe8,4463
 funboost/consumers/httpsqs_consumer.py,sha256=LICZzovaMVrZsJY4GgLrk3EaHz8f9ZZBLKZtWl3frMc,1080
 funboost/consumers/kafka_consumer.py,sha256=2BZT5UQIGqjS1emsX--V1J8gWFOhMjCMMiSnWy_Hto0,4217
 funboost/consumers/kafka_consumer_manually_commit.py,sha256=OJvua_kEZ8_MRuRxW9Jz5aiebM1tYSdjzQfVXd0sBd0,6556
@@ -59,15 +59,15 @@
 funboost/consumers/zeromq_consumer.py,sha256=7V1RwZKtPDDpjKTKj4GWGuz1AGZ83EBHCnWuYN4ooSM,4157
 funboost/contrib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 funboost/contrib/queue2queue.py,sha256=zSIOaj9dPjskV0Rzk-T6gLeO0X-vCZb1pQ1YvCCafOM,4703
 funboost/contrib/redis_consume_latest_msg_broker.py,sha256=V-8-pOyotOXNbs2olS7vig-yN1PxRdw_MeLOtpUufJc,1817
 funboost/factories/__init__.py,sha256=s7kKKjR1HU5eMjPD6r5b-SXTVMo1zBp2JjOAtkyt5Yo,178
 funboost/factories/broker_kind__publsiher_consumer_type_map.py,sha256=FZmb_ntqkEdGJKkYyePJJm8Z3hP2emqGriaCLIz7H4o,8286
 funboost/factories/consumer_factory.py,sha256=3BcdYqTH1UvH3Q0V7eqZ9ePHLyywDr-07fPlTjJeD8w,1032
-funboost/factories/publisher_factotry.py,sha256=52XUvGiloNkKFkKiOcmJxY6FT1VmtNcEI4fJoMS7Mxo,2115
+funboost/factories/publisher_factotry.py,sha256=sQTvGgVnJidpGAe-01rbu9_bYU7hKhSsjM6vShLkP1g,2367
 funboost/function_result_web/app.py,sha256=xUSDBwwDA5wQVWFdFBXj9Y1s7BOh2itUw5pCZl0URMw,4841
 funboost/function_result_web/functions.py,sha256=OIPMxc4jv51qnhBxFGfTZnpMx5p4lQflPoTviDTbJUc,7345
 funboost/function_result_web/__pycache__/app.cpython-37.pyc,sha256=p-jwU7xf31KOJhmhNXqj6J79PTxjMbiTU16gAotpSEw,4045
 funboost/function_result_web/__pycache__/functions.cpython-37.pyc,sha256=KuU8DnYhFpYN0p9rdDXE9mqFuE7eKkcXHCNze3aAdOw,3921
 funboost/function_result_web/static/assets/css/custom.css,sha256=3brvjy2aBOTIXcTUK4NV6dX5wFRqx6K2aLu_jQn63jM,7674
 funboost/function_result_web/static/assets/css/jquery.mCustomScrollbar.min.css,sha256=JHGEmB629pipTkMag9aMaw32I8zle24p3FpsEeI6oZU,42839
 funboost/function_result_web/static/assets/img/user.jpg,sha256=Vz1A99gho-0bKV67Pt2s_zT25mWhNcPe0mWG-0mRl9U,23610
@@ -99,29 +99,29 @@
 funboost/publishers/nsq_publisher.py,sha256=Go4UjLd_Vt4JuVtfkmCuuXrmxUXv1y6NaBQJX6s1XUo,1302
 funboost/publishers/peewee_publisher.py,sha256=RsYAqBKf_ZLxkGJeZPWExzG4cpUac7weCeNhcSQ9hZc,1095
 funboost/publishers/persist_queue_publisher.py,sha256=x6qRiR3Ln-jX9KPC5GvBzUzAlmZ0HDjU1KTnILXVJrw,2540
 funboost/publishers/pulsar_publisher.py,sha256=3BqDtywExvTIw1KZWG4kT1uz029uw2YkntLggZ-Ao6A,1238
 funboost/publishers/rabbitmq_amqpstorm_publisher.py,sha256=0o6D7xD8wDalj-FEWfqkZBr_HjyUKRf_CsGOq6_8ygA,2725
 funboost/publishers/rabbitmq_pika_publisher.py,sha256=jZZw3DUiZ4VqJ6FqZGdv7qo3F_ltzHuKsy_5-j4jkCs,2343
 funboost/publishers/rabbitmq_rabbitpy_publisher.py,sha256=GGXPKxE6-mAjqMIKqwvR9d7L-zuJQcQoU9uRsQLNGas,1953
-funboost/publishers/redis_publisher.py,sha256=AHGSgtlYHVYIVu48lSa5UqdiIU5VtFp7hXhj-wiQx8c,3929
+funboost/publishers/redis_publisher.py,sha256=mUHxfdHYrUn_Dw59NifN-mFsnj53hOhZDoEFlWs-W5M,3982
 funboost/publishers/redis_publisher_lpush.py,sha256=xEWuCTtbDcKFLTxGrECrbIVapFfUwqX2-GHenMClu-Q,278
 funboost/publishers/redis_publisher_simple.py,sha256=hLVWiDjy9ObGTmv7Vtrz21d18Fxkb52IfO5ZzaXjzMQ,872
 funboost/publishers/redis_pubsub_publisher.py,sha256=_6s7sbcGOSXxN2ZkBSDk9ILskmbj9cZTQyYHLQTYOuI,721
 funboost/publishers/redis_stream_publisher.py,sha256=DLxFcTlze0IdYFoaRmTcY8GCOaRwbj4aBNbylkt9gRA,2037
 funboost/publishers/rocketmq_publisher.py,sha256=vY82WgutDPsS9px6rukU1d3AexmsT_tqSS2dmX-Pw-c,2343
 funboost/publishers/sqla_queue_publisher.py,sha256=yUbge08K311-jWlFyOUw6g7-Z-flbxEeWCeCTGnJcic,1215
 funboost/publishers/tcp_publisher.py,sha256=RAoMghY93zH9AVnBbCYjUZ1cdri9t91ZcGh_imD--oQ,1335
 funboost/publishers/txt_file_publisher.py,sha256=twTrqRAYnaNmFkXn0nr1xGBjeHCPJStt83voLX3vPao,1380
 funboost/publishers/udp_publisher.py,sha256=TOiKrhmCMjx4teqIgdUwRic0lxyK2cupinafsz--wzY,1194
 funboost/publishers/zeromq_publisher.py,sha256=QCsRDtmgxOdVe2F2z3PwvvkoXv1flmrHWo3Nzsx0X7g,1002
 funboost/queues/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 funboost/queues/peewee_queue.py,sha256=pQJ0YkBoZRGASzmBoGyluIfdRp4Orv6l1bqQpHNdPtY,4982
 funboost/queues/sqla_queue.py,sha256=PxkMyXHCA_Je7H_p8c81QT7qN8x8Fq6NVmwli7PPhhg,11024
-funboost/timing_job/__init__.py,sha256=xLZNI64seZV5BT6jc8yGDfqhJ01wSpZIqVcDsUNI8yk,4098
+funboost/timing_job/__init__.py,sha256=rRLogp0fYMsmcFbri4nfkKGr6WO2EIw8tb0W9t0Ptr4,5323
 funboost/timing_job/apscheduler_use_mysql_store.py,sha256=zIeK2LETm8m3VX7K6but8YAQOZomfO-P6AKLqeluxys,418
 funboost/timing_job/apscheduler_use_redis_store.py,sha256=KO35PzALht0EdozEXxa7uEzu7As8iON6mksU9ZOVDr0,868
 funboost/timing_job/push_fun_for_apscheduler_use_db.py,sha256=yo3m3iRLZKjicRw9JHZNLqFKO9jk0csNe96fEVhRltg,996
 funboost/utils/__init__.py,sha256=9YTXH5jt-_MulaWy5cbIpiJghy-fVQU9Gd1RHSajI94,1951
 funboost/utils/apscheduler_monkey.py,sha256=CcUISbqX6nMWSxr_QjZ26IvvhUk_ojYZWRaKenpsKfE,3124
 funboost/utils/block_exit.py,sha256=BnfxNYo3lnmhk686RAEoc4u3D4RU_iEMMMgu5L8gIuI,96
 funboost/utils/bulk_operation.py,sha256=jty8pvQWCPVUmfqeP6DnilveGc6YGjCMwVbnOAV4eRg,9972
@@ -207,12 +207,12 @@
 funboost/utils/dependency_packages_in_pythonpath/func_timeout/__pycache__/py3_raise.cpython-37.pyc,sha256=67Zqz4tjErzQSm9FM9mGaY3uMHYOUj3QYKtPqJQvQpE,303
 funboost/utils/dependency_packages_in_pythonpath/func_timeout/__pycache__/py3_raise.cpython-39.pyc,sha256=a1ajayGg3JjQz--IC3-6YQHRFStG9etoieY8mXEdJ6Q,311
 funboost/utils/pysnooper_ydf/__init__.py,sha256=ctbQdJpLVZ5g_PPstj7Xaqcl0sMIgvUGwZXtcogYyHA,909
 funboost/utils/pysnooper_ydf/pycompat.py,sha256=ehsCfjsLdwoK0_o5fwYWDo3WeqCVfHW5lxekrEZxq4Y,2243
 funboost/utils/pysnooper_ydf/tracer.py,sha256=DYxYeRFSH1jXy4OTB5KIAgQm2EHRWEOwq3EXJig7Yrk,19131
 funboost/utils/pysnooper_ydf/utils.py,sha256=evSmGi_Oul7vSP47AJ0DLjFwoCYCfunJZ1mWxAkwPZw,2753
 funboost/utils/pysnooper_ydf/variables.py,sha256=QejRDESBA06KG9OH4sBT4J1M55eaU29EIHg8K_igaXo,3693
-funboost-20.6.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
-funboost-20.6.dist-info/METADATA,sha256=3upqKjbqcwUJ6kZBnPEdR4VNFLNGjtTwmS-sdOYuZAM,26267
-funboost-20.6.dist-info/WHEEL,sha256=D1Wh14kWDxPnrM-5t_6UCB-UuQNrEODtRa3vF4OsvQY,97
-funboost-20.6.dist-info/top_level.txt,sha256=K8WuKnS6MRcEWxP1NvbmCeujJq6TEfbsB150YROlRw0,9
-funboost-20.6.dist-info/RECORD,,
+funboost-20.7.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
+funboost-20.7.dist-info/METADATA,sha256=RwtHi7aNQ60rTIb6z4XLXfI7u9EomTm8Le0VcCmcMNU,26332
+funboost-20.7.dist-info/WHEEL,sha256=D1Wh14kWDxPnrM-5t_6UCB-UuQNrEODtRa3vF4OsvQY,97
+funboost-20.7.dist-info/top_level.txt,sha256=K8WuKnS6MRcEWxP1NvbmCeujJq6TEfbsB150YROlRw0,9
+funboost-20.7.dist-info/RECORD,,
```

