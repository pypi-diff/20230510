# Comparing `tmp/WeConnect_SolarManager-0.2.2-py3-none-any.whl.zip` & `tmp/WeConnect_SolarManager-0.3.0rc1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,43 @@
-Zip file size: 10394 bytes, number of entries: 15
--rw-rw-rw-  2.0 fat     1714 b- defN 22-Sep-21 09:37 SolarEdge/SolarEdge.py
+Zip file size: 200637 bytes, number of entries: 41
+-rw-rw-rw-  2.0 fat     1641 b- defN 23-May-01 19:30 SolarEdge/SolarEdge.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Sep-21 09:37 SolarEdge/__init__.py
--rw-rw-rw-  2.0 fat     8538 b- defN 22-Sep-21 09:37 SolarManager/SolarManager.py
+-rw-rw-rw-  2.0 fat     8586 b- defN 23-May-09 08:04 SolarManager/SolarManager.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Sep-21 09:37 SolarManager/__init__.py
+-rw-rw-rw-  2.0 fat        6 b- defN 23-May-10 14:38 SolarManager/test.txt
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Sep-21 09:37 SolarManager/Elements/__init__.py
 -rw-rw-rw-  2.0 fat       89 b- defN 22-Sep-21 09:37 SolarManager/Elements/enums.py
--rw-rw-rw-  2.0 fat      397 b- defN 22-Sep-21 09:37 WeConnect_SolarManager-0.2.2.data/data/SolarManager/config.txt
--rw-rw-rw-  2.0 fat     2919 b- defN 22-Sep-27 17:27 WeConnect_SolarManager-0.2.2.data/data/SolarManager/init.py
--rw-rw-rw-  2.0 fat     1626 b- defN 22-Sep-27 17:22 WeConnect_SolarManager-0.2.2.data/data/SolarManager/main.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Sep-21 09:37 WeConnect_SolarManager-0.2.2.data/data/SolarManager/logs/.gitkeep
--rw-rw-rw-  2.0 fat     1091 b- defN 23-Mar-03 13:31 WeConnect_SolarManager-0.2.2.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     5515 b- defN 23-Mar-03 13:31 WeConnect_SolarManager-0.2.2.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Mar-03 13:31 WeConnect_SolarManager-0.2.2.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       23 b- defN 23-Mar-03 13:31 WeConnect_SolarManager-0.2.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     1419 b- defN 23-Mar-03 13:31 WeConnect_SolarManager-0.2.2.dist-info/RECORD
-15 files, 23423 bytes uncompressed, 7958 bytes compressed:  66.0%
+-rw-rw-rw-  2.0 fat     2514 b- defN 23-May-09 08:43 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/Helper.py
+-rw-rw-rw-  2.0 fat     1618 b- defN 23-May-10 07:17 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/app.py
+-rw-rw-rw-  2.0 fat      632 b- defN 23-May-04 08:05 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/config.txt
+-rw-rw-rw-  2.0 fat     3383 b- defN 23-May-10 06:38 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/init.py
+-rw-rw-rw-  2.0 fat     1531 b- defN 23-May-09 08:04 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/main.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Sep-21 09:37 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/logs/.gitkeep
+-rw-rw-rw-  2.0 fat    31842 b- defN 23-May-04 08:12 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/axios.min.js
+-rw-rw-rw-  2.0 fat     1268 b- defN 23-Apr-30 16:27 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/default.css
+-rw-rw-rw-  2.0 fat   292458 b- defN 23-Apr-30 16:16 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/jquery-3.6.4.js
+-rw-rw-rw-  2.0 fat    89795 b- defN 23-Apr-30 16:16 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/jquery-3.6.4.min.js
+-rw-rw-rw-  2.0 fat      897 b- defN 23-May-04 09:09 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/manifest.json
+-rw-rw-rw-  2.0 fat     2549 b- defN 23-May-08 14:02 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/pushNotification.js
+-rw-rw-rw-  2.0 fat     1183 b- defN 23-May-10 07:10 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/serviceWorker.js
+-rw-rw-rw-  2.0 fat     3048 b- defN 23-May-10 09:38 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-114.png
+-rw-rw-rw-  2.0 fat     3203 b- defN 23-May-10 09:39 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-120.png
+-rw-rw-rw-  2.0 fat     4530 b- defN 23-May-10 09:39 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-144.png
+-rw-rw-rw-  2.0 fat     4750 b- defN 23-May-10 09:40 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-152.png
+-rw-rw-rw-  2.0 fat      563 b- defN 23-May-10 09:36 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-16.png
+-rw-rw-rw-  2.0 fat     5540 b- defN 23-May-10 09:35 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-180.png
+-rw-rw-rw-  2.0 fat     5874 b- defN 23-May-10 09:35 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-192.png
+-rw-rw-rw-  2.0 fat     1256 b- defN 23-May-10 09:36 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-32.png
+-rw-rw-rw-  2.0 fat     7281 b- defN 23-May-10 09:20 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-512.png
+-rw-rw-rw-  2.0 fat     1873 b- defN 23-May-10 09:37 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-57.png
+-rw-rw-rw-  2.0 fat     1911 b- defN 23-May-10 09:37 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-60.png
+-rw-rw-rw-  2.0 fat     2033 b- defN 23-May-10 09:37 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-64.png
+-rw-rw-rw-  2.0 fat     2186 b- defN 23-May-10 09:37 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-72.png
+-rw-rw-rw-  2.0 fat     2265 b- defN 23-May-10 09:38 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-76.png
+-rw-rw-rw-  2.0 fat     2658 b- defN 23-May-10 09:38 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-96.png
+-rw-rw-rw-  2.0 fat     3433 b- defN 23-May-10 07:14 WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/templates/index.html
+-rw-rw-rw-  2.0 fat     1091 b- defN 23-May-10 15:00 WeConnect_SolarManager-0.3.0rc1.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     5800 b- defN 23-May-10 15:00 WeConnect_SolarManager-0.3.0rc1.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-May-10 15:00 WeConnect_SolarManager-0.3.0rc1.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       23 b- defN 23-May-10 15:00 WeConnect_SolarManager-0.3.0rc1.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     5014 b- defN 23-May-10 15:00 WeConnect_SolarManager-0.3.0rc1.dist-info/RECORD
+41 files, 504416 bytes uncompressed, 191997 bytes compressed:  61.9%
```

## zipnote {}

```diff
@@ -6,41 +6,119 @@
 
 Filename: SolarManager/SolarManager.py
 Comment: 
 
 Filename: SolarManager/__init__.py
 Comment: 
 
+Filename: SolarManager/test.txt
+Comment: 
+
 Filename: SolarManager/Elements/__init__.py
 Comment: 
 
 Filename: SolarManager/Elements/enums.py
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.data/data/SolarManager/config.txt
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/Helper.py
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/app.py
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/config.txt
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/init.py
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/main.py
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/logs/.gitkeep
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/axios.min.js
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/default.css
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/jquery-3.6.4.js
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/jquery-3.6.4.min.js
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/manifest.json
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/pushNotification.js
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/serviceWorker.js
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-114.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-120.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-144.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-152.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-16.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-180.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-192.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-32.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-512.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-57.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-60.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-64.png
+Comment: 
+
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-72.png
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.data/data/SolarManager/init.py
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-76.png
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.data/data/SolarManager/main.py
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/static/images/favicon/icon-96.png
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.data/data/SolarManager/logs/.gitkeep
+Filename: WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/templates/index.html
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.dist-info/LICENSE
+Filename: WeConnect_SolarManager-0.3.0rc1.dist-info/LICENSE
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.dist-info/METADATA
+Filename: WeConnect_SolarManager-0.3.0rc1.dist-info/METADATA
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.dist-info/WHEEL
+Filename: WeConnect_SolarManager-0.3.0rc1.dist-info/WHEEL
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.dist-info/top_level.txt
+Filename: WeConnect_SolarManager-0.3.0rc1.dist-info/top_level.txt
 Comment: 
 
-Filename: WeConnect_SolarManager-0.2.2.dist-info/RECORD
+Filename: WeConnect_SolarManager-0.3.0rc1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## SolarEdge/SolarEdge.py

```diff
@@ -1,23 +1,22 @@
 import logging
 import requests
-import configparser
 import json
 import urllib.parse
 
+from Helper import Helper
+
 class SolarEdge:
     def __init__(
-        self,
-        configFileName: str
+        self
     ) -> None:
 
         self.logger = logging.getLogger("SolarEdge")
 
-        configParser = configparser.ConfigParser()
-        configParser.read(configFileName)
+        configParser = Helper.loadConfig()
 
         apiKey = configParser.get("SolarEdge", "ApiKey")
         locationId = configParser.get("SolarEdge", "LocationId")
         apiUrl = configParser.get("SolarEdge", "ApiUrl")
 
         self.apiUrl = apiUrl.replace("{{LOCATION_ID}}", urllib.parse.quote(locationId, safe='')).replace("{{API_KEY}}", urllib.parse.quote(apiKey, safe=''))
```

## SolarManager/SolarManager.py

```diff
@@ -1,48 +1,46 @@
 import logging
-import configparser
 import json
 
+from Helper import Helper
 from SolarEdge import SolarEdge
 from SolarManager.Elements.enums import ChargingState
 
 from weconnect import weconnect, addressable
 from weconnect.elements.control_operation import ControlOperation
 from weconnect.elements.enums import MaximumChargeCurrent
 from weconnect.elements.charging_status import ChargingStatus
 from weconnect.elements.plug_status import PlugStatus
 from weconnect.elements.vehicle import Vehicle
 
 class SolarManager:
     def __init__(
         self,
         username: str,
-        password: str,
-        configFileName: str
+        password: str
     ) -> None:
 
         self.logger = logging.getLogger("SolarManager")
 
-        configParser = configparser.ConfigParser()
-        configParser.read(configFileName)
+        configParser = Helper.loadConfig()
 
         self.minBatteryLoadToStartCharging = configParser.getfloat("SolarManager", "MinBatteryLoadToStartCharging")
         self.minPowerToGridToStartCharging = configParser.getfloat("SolarManager", "MinPowerToGridToStartCharging")
         self.maxPowerFromGridToStopCharging = configParser.getfloat("SolarManager", "MaxPowerFromGridToStopCharging")
         self.minBatteryLoad = configParser.getfloat("SolarManager", "MinBatteryLoad")
         self.simulationMode = configParser.getboolean("SolarManager", "SimulationMode")
         self.vin = configParser.get("SolarManager", "VIN")
         self.vehicleNameSuffix = configParser.get("SolarManager", "VehicleNameSuffix").lower()
 
         self.isCharging = False
         self.chargingChangeRequested = False
 
         self.logger.info(f"Simulation mode: {self.simulationMode}")
 
-        self.solarEdge = SolarEdge.SolarEdge(configFileName)
+        self.solarEdge = SolarEdge.SolarEdge()
 
         self.logger.info("Initialize WeConnect")
         self.weConnect = weconnect.WeConnect(username=username, password=password, updateAfterLogin=False, loginOnInit=False)
 
         self.logger.info("Login to WeConnect")
         self.weConnect.login()
         self.weConnect.update()
@@ -167,16 +165,20 @@
 
         if vehicle.controls.chargingControl is None or not vehicle.controls.chargingControl.enabled:
             self.logger.warn("Charging control is none or not enabled for vehicle!")
             return
 
         if newState == ChargingState.On:
             self.logger.info("Start charging")
+            Helper.sendPushNotification("Info", "Start charging")
+
             if not self.simulationMode:
                 vehicle.controls.chargingControl.value = ControlOperation.START
 
         else:
             self.logger.info("Stop charging")
+            Helper.sendPushNotification("Info", "Stop charging")
+
             if not self.simulationMode:
                 vehicle.controls.chargingControl.value = ControlOperation.STOP
 
         self.chargingChangeRequested = True
```

## Comparing `WeConnect_SolarManager-0.2.2.data/data/SolarManager/init.py` & `WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/init.py`

 * *Files 10% similar despite different names*

```diff
@@ -3,51 +3,59 @@
 import configparser
 import pathlib
 import string
 import os
 import stat
 from datetime import datetime
 
-def initService(configFilePath: string, currentDirectoryPath: string):
-    print("Init service.")
+def initService(serviceName: string, serviceStartFile: string, currentDirectoryPath: string):
+    print("Init '" + serviceName + "' service.")
 
-    print("Create a copy of current config file.")
-    os.system("cp -rf " + configFilePath + " " + configFilePath + "-" + datetime.today().strftime('%Y%m%d'))
-
-    serviceFilePath = "/lib/systemd/system/SolarManager.service"
+    serviceFilePath = "/lib/systemd/system/" + serviceName + ".service"
 
     if os.path.exists(serviceFilePath):
-        print("Stopping current service.")
-        os.system("sudo systemctl stop SolarManager.service")
+        print("Stopping existing service.")
+        os.system("sudo systemctl stop " + serviceName + ".service")
 
-        print("Disabling current service.")
-        os.system("sudo systemctl disable SolarManager.service")
+        print("Disabling existing service.")
+        os.system("sudo systemctl disable " + serviceName + ".service")
 
         print("Delete existing service file at '" + serviceFilePath + "'.")
         os.remove(serviceFilePath)
 
-    serviceFileContent = "[Unit]\nDescription=SolarManager\nAfter=multi-user.target\nStartLimitIntervalSec=120s\nStartLimitBurst=50\n\n[Service]\nType=simple\nWorkingDirectory={{WORKING_DIRECTORY}}\nUser=pi\nExecStart=/usr/bin/python ./main.py\nRestart=on-failure\nRestartSec=120s\n\n[Install]\nWantedBy=multi-user.target"
-    serviceFileContent = serviceFileContent.replace("{{WORKING_DIRECTORY}}", currentDirectoryPath)
+    serviceFileContent = "[Unit]\nDescription=" + serviceName + "\nAfter=multi-user.target\nStartLimitIntervalSec=120s\nStartLimitBurst=50\n\n[Service]\nType=simple\nWorkingDirectory=" + currentDirectoryPath + "\nUser=pi\nExecStart=/usr/bin/python ./" + serviceStartFile + "\nRestart=on-failure\nRestartSec=120s\n\n[Install]\nWantedBy=multi-user.target"
     
     with open(serviceFilePath, 'w') as f:
         print("Writing new service file at '" + serviceFilePath + "'.")
         f.write(serviceFileContent)
 
     os.chmod(serviceFilePath, 644)
 
-    mainFilePath = currentDirectoryPath + "/main.py"
+    mainFilePath = currentDirectoryPath + "/" + serviceStartFile
     st = os.stat(mainFilePath)
     os.chmod(mainFilePath, st.st_mode | stat.S_IEXEC)
 
     print("Register and start service.")
     os.system("sudo systemctl daemon-reload")
-    os.system("sudo systemctl enable SolarManager.service")
-    os.system("sudo systemctl start SolarManager.service")
+    os.system("sudo systemctl enable " + serviceName + ".service")
+    os.system("sudo systemctl start " + serviceName + ".service")
+
+    print("Init of '" + serviceName + "' done.")
+
+def initSolarManagerService(configFilePath: string, currentDirectoryPath: string):
+
+    print("Create a copy of current config file.")
+    os.system("cp -rf " + configFilePath + " " + configFilePath + "-" + datetime.today().strftime('%Y%m%d'))
+
+    initService("SolaraManager", "main.py", currentDirectoryPath)
+
+def initWebAppService(currentDirectoryPath: string, port: int):
 
-    print("Init done. Please check the log files for errors.")
+    initService("SolaraManagerWebApp", "app.py", currentDirectoryPath)
+    print("Web app is running on this host on port " + port + ".")
 
 try:
 
     here = pathlib.Path(__file__).parent.resolve()
     configFilePath = (here / "config.txt")
     userConfigFilePath = (here / "config.txt.user")
     userConfigFile = pathlib.Path(userConfigFilePath)
@@ -66,11 +74,12 @@
     userName = configParser.get("WeConnect", "Username")
     password = configParser.get("WeConnect", "Password")
 
     if not vin or not locationId or not apiKey or not userName or not password:
         print("Please set all needed configurations in config file and run this script again.")
         exit
     else:
-        initService(str(configFilePath), str(here))
+        initSolarManagerService(str(configFilePath), str(here))
+        initWebAppService(str(here), configParser.getint("WebApp", "Port"))
 
 except Exception as e:
     raise e
```

## Comparing `WeConnect_SolarManager-0.2.2.data/data/SolarManager/main.py` & `WeConnect_SolarManager-0.3.0rc1.data/data/SolarManager/main.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,53 +1,49 @@
 #!/usr/bin/python
 
+import os
 import logging
 import logging.handlers
 import configparser
 
+from Helper import Helper
 from time import sleep
 from SolarManager import SolarManager
 from pathlib import Path
 
 def log_setup():
     
     formatter = logging.Formatter("%(asctime)s :: %(name)s :: %(levelname)s :: %(message)s")
     logLevel = logging.INFO
 
-    log_handler = logging.handlers.TimedRotatingFileHandler("logs/SolarManager.log", when="midnight", interval=1, backupCount=30)
+    logFilePath = os.path.join(os.path.dirname(__file__), "logs/SolarManager.log")
+    log_handler = logging.handlers.TimedRotatingFileHandler(logFilePath, when="midnight", interval=1, backupCount=30)
     log_handler.setFormatter(formatter)
     log_handler.setLevel(logLevel)
 
     logger = logging.getLogger()
     logger.addHandler(log_handler)
     logger.setLevel(logLevel)
 
 log_setup()
 LOG = logging.getLogger("SolarManager.Service")
 LOG.info("Starting service.")
 
 try:
 
-    configFileName = "config.txt"
-    userConfigFileName = "config.txt.user"
-    userConfigFile = Path(userConfigFileName)
-
-    if userConfigFile.is_file():
-        LOG.info("Using user config file '" + userConfigFileName + "'.")
-        configFileName = userConfigFileName
-    
-    configParser = configparser.ConfigParser()
-    configParser.read(configFileName)
-    
+    configParser = Helper.loadConfig()
+    Helper.sendPushNotification("Info", "Starting service")
+
     sleepTimeSeconds = configParser.getint("SolarManager", "SolarCheckInterval")
-    solarManager = SolarManager.SolarManager(configParser.get("WeConnect", "Username"), configParser.get("WeConnect", "Password"), configFileName)
+    solarManager = SolarManager.SolarManager(configParser.get("WeConnect", "Username"), configParser.get("WeConnect", "Password"))
 
     while True:
         
         solarManager.run()
 
         LOG.info(f"Sleeping for {sleepTimeSeconds} seconds")
         sleep(sleepTimeSeconds)
 
 except Exception as e:
     LOG.error(f"An error occured while running the service: {e}", exc_info=True)
+    Helper.sendPushNotification("Error", "An error occured while running the service")
     raise e
```

## Comparing `WeConnect_SolarManager-0.2.2.dist-info/LICENSE` & `WeConnect_SolarManager-0.3.0rc1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `WeConnect_SolarManager-0.2.2.dist-info/METADATA` & `WeConnect_SolarManager-0.3.0rc1.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,21 +1,23 @@
 Metadata-Version: 2.1
 Name: WeConnect-SolarManager
-Version: 0.2.2
+Version: 0.3.0rc1
 Summary: With WeConnect-SolarManager you can automatically charge your Volkswagen ID car (e.g. ID.4) with solar electricity, even if your wallbox does not support this.
 Home-page: https://github.com/wene37/WeConnect-SolarManager
 Author: Thomas Werner
 Project-URL: Bug Reports, https://github.com/wene37/WeConnect-SolarManager/issues
 Project-URL: Source, https://github.com/wene37/WeConnect-SolarManager
 Classifier: License :: OSI Approved :: MIT License
 Requires-Python: >=3.7, <4
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: requests (>=2.27.1)
 Requires-Dist: weconnect[images] (>=0.54.2)
+Requires-Dist: flask (>=2.3.1)
+Requires-Dist: pywebpush (>=1.14.0)
 
 # Common
 With SolarManager you can automatically charge your Volkswagen ID car (e.g. ID.4) with solar electricity, even if your wallbox does not support this (like ID. Charger does not currently). There's an adapter for SolarEdge included but may be extended with another solar system easily.
 
 It calculates from the current solar power, load and battery charge level if your car can be charged or not. If so it starts the charging process and if the sun goes down or you use more power for other things, it stops automatically.
 
 The SolarManager is written in Python and uses [WeConnect-python](https://github.com/tillsteinbach/WeConnect-python) for the connection to the vehicle (ID.3, ID.4 and so on) and [SolarEdge API](https://www.solaredge.com/sites/default/files/se_monitoring_api.pdf) for getting information about current solar power.
@@ -55,14 +57,18 @@
 |SolarManager|SolarCheckInterval|Interval for checking the state of the car and solar power.|
 ||MinBatteryLoadToStartCharging|Minimum battery load that charging will be started. Before this SolarManager won't start charging your car.|
 ||MinPowerToGridToStartCharging|Minium power to grid that charging will be started. Below this SolarManager will only start charging if battery load is 100%.|
 ||MaxPowerFromGridToStopCharging|If your home uses more power SolarManager will stop charging your car. Value is negative because it's a power consumption.|
 ||MinBatteryLoad|Minium battery load you want to have. If battery load goes below this, SolarManager will stop charging your car.|
 ||SimulationMode|You can enable simulation mode to only log everything without really start or stop charging your car.|
 ||VehicleNameSuffix|The suffix you need to add to your car's nickname (see below).|
+|WebApp|Port|Port for the web app.|
+||WebPushSubject|VAPID setting for push notifications.|
+||WebPushPublicKey|VAPID setting for push notifications.|
+||WebPushPrivateKey|VAPID setting for push notifications.|
 
 ## Enable/Disable SolarManager
 As SolarManager can't know if you want to load your car with solar power only or just load it because you need a full battery, there's a switch you can use right from your WeConnect ID App. If you want SolarManager to be active for your car, please extend your car's nickname in the app with the suffix `(SMC)` (= SolarManager Control). If you want to disable SolarManager for your car, just remove the suffix again.
 
 The reason for this nickname suffix is because it's the easiest way you can enable or disable SolarManager from everywhere without having access to your SolarManager instance running at your home.
 
 ## Plug your car
```

